<random_event_trigger_protocol>
  <% 
  let dice_1 = `1d100`; 
  let dice_2 = 0; 
  let trigger_random_event = false;
  let event_border_generate = false;
  let current_event_type = "";
  let event_description = "";
  switch(true){
  case trigger_random_event == false && dice_1 < 3 && getvar('stat_data.角色.状态.等级') > 13:
      trigger_random_event = true
      event_border_generate = true
      current_event_type = "奇遇事件"
      event_description = `根据事件内容填充描述`%>
      参考协议<legend_event_protocol>生成
      <% 
      
  case trigger_random_event == false && dice_1 < 15 && !getvar('stat_data.角色.在军队中') : 
      trigger_random_event = true
      event_border_generate = true
      current_event_type = "随机遭遇战"
      event_description = `根据事件内容填充描述`%>
      参考协议<individual_encounter_protocol>生成
      <% 
      
  case trigger_random_event == false && dice_1 < 15 && getvar('stat_data.角色.在军队中') && (getvar('stat_data.角色.军队状态') == '行军' || getvar('stat_data.角色.军队状态') == '驻扎') :
      trigger_random_event = true
      event_border_generate = true
      current_event_type = "战役事件"
      event_description = `根据事件内容填充描述`%>
      参考协议<battlefield_event_protocol>生成
      <%
      
  case trigger_random_event == false && dice_1 < 30 && !getvar('stat_data.角色.在战斗中') :
      trigger_random_event = true
      event_border_generate = true
      current_event_type = "任务型随机事件"
      event_description = `根据事件内容填充描述`
      dice_2 = `1d20` %>
      - 参考协议<task_generation_protocol>
      
      
      <%
      
  case ( trigger_random_event == false && dice_1 < 60 && getvar('stat_data.角色.状态.等级') >= 8) :
      trigger_random_event = true
      event_border_generate = true
      current_event_type = "王国战争事件"
      event_description = `根据事件内容填充描述`
      dice_2 = `1d20` %>
      - 参考协议<kingdom_war_protocol>
      <%
  default: %>
    不生成随机事件
  <%_ } _%>
</random_event_trigger_protocol>


